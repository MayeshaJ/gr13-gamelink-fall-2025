# GameLink

A Flutter-based mobile and web application that connects sports enthusiasts to discover, create, and join local games. GameLink helps users find games in their area, manage their game participation, and stay connected with the local sports community.

## Table of Contents

- [Features](#features)
- [Prerequisites](#prerequisites)
- [Installation](#installation)
- [Configuration](#configuration)
- [Running the Application](#running-the-application)
- [Building the Application](#building-the-application)
- [Exiting Safely](#exiting-safely)
- [Project Structure](#project-structure)
- [Technologies Used](#technologies-used)
- [Team](#team)
- [Development](#development)

## Features

### Authentication
- User registration and login
- Password reset functionality
- Session persistence
- Secure authentication via Firebase Auth

### Game Management
- **Browse Games**: Search and filter games by sport, location, host, or title
- **Create Games**: Host your own games with details (title, description, date, location, max players)
- **Join Games**: Join available games directly from the list or game details page
- **Leave Games**: Leave games you've joined
- **Game Details**: View comprehensive game information including participant list
- **Real-time Updates**: Games list updates in real-time as games are created or modified

### User Profile
- View and edit user profile
- Upload and manage profile photos
- Set favorite sports and skill levels
- Add bio and personal information

### Search & Filtering
- Real-time search across game titles, locations, sports, and hosts
- Autocomplete suggestions for sports
- Query persistence via URL parameters

## Prerequisites

Before you begin, ensure you have the following installed:

- **Flutter SDK** (version 3.9.2 or higher)
  - Check installation: `flutter --version`
  - Installation guide: [Flutter Installation](https://docs.flutter.dev/get-started/install)
- **Dart SDK** (included with Flutter)
- **Firebase Account** with a project set up
- **Android Studio** or **VS Code** with Flutter extensions (recommended)
- **Git** for version control

### Platform-Specific Requirements

#### Android
- Android SDK
- Android Studio or Android SDK Command-line Tools
- An Android device or emulator (API level 21 or higher)

#### iOS (macOS only)
- Xcode (latest version)
- CocoaPods
- An iOS device or simulator

#### Web
- Chrome or any modern web browser

## Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd gr13-gamelink-fall-2025
   ```

2. **Install Flutter dependencies**
   ```bash
   flutter pub get
   ```

3. **Verify Flutter setup**
   ```bash
   flutter doctor
   ```
   Ensure all checks pass or address any issues reported.

## Configuration

### Firebase Setup

1. **Create a Firebase Project**
   - Go to [Firebase Console](https://console.firebase.google.com/)
   - Create a new project or use an existing one

2. **Configure Firebase for your platform**
   - The project already includes `firebase_options.dart` with configuration
   - If you need to regenerate: `flutterfire configure`

3. **Set up Firestore Database**
   - In Firebase Console, go to Firestore Database
   - Create the database in production or test mode
   - Deploy security rules (see `firestore.rules` file)

4. **Deploy Firestore Security Rules**
   - Option 1: Via Firebase Console
     - Go to Firestore Database → Rules
     - Copy contents from `firestore.rules` and paste
     - Click "Publish"
   - Option 2: Via Firebase CLI
     ```bash
     firebase deploy --only firestore:rules
     ```

5. **Enable Authentication**
   - In Firebase Console, go to Authentication
   - Enable Email/Password authentication method

6. **Set up Firebase Storage** (for profile photos)
   - Go to Storage in Firebase Console
   - Create a storage bucket
   - Configure storage rules as needed

### Environment Configuration

The app uses Firebase configuration from `lib/firebase_options.dart`. This file is generated by FlutterFire CLI and should already be configured for the project.

## Running the Application

### Run on Connected Device/Emulator

1. **Check available devices**
   ```bash
   flutter devices
   ```

2. **Run the application**
   ```bash
   flutter run
   ```

3. **Run in release mode** (for better performance)
   ```bash
   flutter run --release
   ```

### Run on Specific Platform

- **Android**: `flutter run -d android`
- **iOS**: `flutter run -d ios`
- **Web**: `flutter run -d chrome`
- **Windows**: `flutter run -d windows`

### Hot Reload & Hot Restart

- **Hot Reload**: Press `r` in the terminal (preserves app state)
- **Hot Restart**: Press `R` in the terminal (resets app state)
- **Quit**: Press `q` in the terminal

## Building the Application

### Android

**APK (for testing)**
```bash
flutter build apk
```
Output: `build/app/outputs/flutter-apk/app-release.apk`

**App Bundle (for Play Store)**
```bash
flutter build appbundle
```
Output: `build/app/outputs/bundle/release/app-release.aab`

### iOS

```bash
flutter build ios
```

**Note**: iOS builds require macOS and Xcode. Additional configuration may be needed for code signing.

### Web

```bash
flutter build web
```
Output: `build/web/` directory

### Windows

```bash
flutter build windows
```
Output: `build/windows/runner/Release/`

## Exiting Safely

### During Development

1. **Stop the running app**
   - Press `q` in the terminal where `flutter run` is executing
   - Or use `Ctrl+C` to stop the process

2. **Close the app on device/emulator**
   - Use the device's back button or app switcher
   - The app will save its state automatically

### Graceful Shutdown

The application handles cleanup automatically:
- Stream subscriptions are properly disposed
- Controllers clean up resources
- No manual cleanup required

### Force Quit (if needed)

If the app becomes unresponsive:
- **Android**: Use Android Studio's "Stop" button or `adb shell am force-stop com.example.game_link_group13`
- **iOS**: Use Xcode's stop button or force quit from device
- **Terminal**: `Ctrl+C` (may require multiple presses)

## Project Structure

```
lib/
├── controllers/          # Business logic and state management
│   ├── auth_controller.dart      # Authentication operations
│   ├── game_controller.dart      # Game CRUD operations
│   ├── game_list_controller.dart # Game list state management
│   ├── search_controller.dart   # Search state management
│   ├── storage_controller.dart   # File storage operations
│   └── user_controller.dart      # User profile operations
├── models/              # Data models
│   ├── app_user.dart            # User model
│   └── game.dart                # Game models (GameModel & Game)
├── routes/              # Navigation
│   └── app_router.dart          # GoRouter configuration
├── views/               # UI screens
│   ├── auth/                    # Authentication screens
│   │   ├── auth_gate.dart
│   │   ├── login_view.dart
│   │   ├── signup_view.dart
│   │   └── forgot_password_view.dart
│   ├── game/                     # Game-related screens
│   │   ├── game_list_view.dart
│   │   ├── game_details_view.dart
│   │   ├── game_tile.dart
│   │   ├── create_game_view.dart
│   │   └── game_list_empty.dart
│   ├── home/                     # Home screen
│   │   └── home_view.dart
│   └── profile/                  # Profile screens
│       ├── profile_view.dart
│       └── edit_profile_view.dart
└── widgets/             # Reusable widgets
    ├── error_state.dart
    └── loading_indicator.dart
```

## Technologies Used

### Core Framework
- **Flutter** (^3.9.2) - Cross-platform UI framework
- **Dart** - Programming language

### Navigation
- **go_router** (^14.2.0) - Declarative routing for Flutter

### Backend Services
- **Firebase Core** (^3.9.0) - Firebase initialization
- **Firebase Auth** (^5.3.1) - User authentication
- **Cloud Firestore** (^5.4.4) - NoSQL database
- **Firebase Storage** (^12.3.4) - File storage

### Additional Packages
- **image_picker** (^1.1.2) - Image selection for profile photos

### Development Tools
- **flutter_lints** (^5.0.0) - Linting rules

## Team

This project is developed by Group 13:

- **Mayesha** - Authentication navigation flow, game list, game search
- **Sharier** - Authentication (signup/login/password reset), session persistence, user document creation, profile screen, profile editing, profile photo upload
- **Ahmed** - Game model implementation
- **Fatima** - Notification

## Development

### Code Style

- Follow Flutter/Dart style guidelines
- Use `flutter analyze` to check for issues
- Run `dart format .` to format code

### Architecture

The project follows an **MVC (Model-View-Controller)** architecture:

- **Models**: Data structures (`lib/models/`)
- **Views**: UI components (`lib/views/`)
- **Controllers**: Business logic (`lib/controllers/`)

### Design System

The app uses a consistent design system with the following principles:

#### Color Scheme
- **Dark Mode**:
  - Background: `#1A2332` (Dark Navy)
  - Cards: `#243447` (Dark Blue)
  - Accent: `#39FF14` (Neon Green)
- **Light Mode**:
  - Background: `#F5F5F7` (Light Grey)
  - Cards: `#FFFFFF` (White)
  - Accent: `#00C853` (Darker Green)

#### Typography
- **Headings**: `GoogleFonts.teko` (AppBar titles, headers, scores)
- **Body Text**: `GoogleFonts.barlowSemiCondensed` (inputs, buttons, list items)

#### Responsive Sizing
- Uses `flutter_screenutil` for all dimensions
- Design size: 411 x 923 (Pixel-style device)
- Use `.w`, `.h`, `.sp`, `.r` extensions instead of hardcoded values

#### Theme Management
- Theme preferences stored in `SharedPreferences`
- `ThemeController` singleton manages theme state
- All views use `AppColors` helper methods for theme-aware colors

### Navigation

- **All navigation uses GoRouter** - No `Navigator.push/pop` or `MaterialPageRoute`
- Use `context.goNamed()`, `context.pushNamed()`, or `context.pop()`
- Routes are defined in `lib/routes/app_router.dart`

### State Management

- **Streams**: Used for real-time data (games list, search state)
- **Controllers**: Singleton pattern for shared state
- **StreamBuilder**: Used in views to react to stream changes

### Firebase Integration

- **Firestore**: Real-time database for games and user data
- **Firebase Auth**: User authentication
- **Firebase Storage**: Profile photo storage
- **Security Rules**: Defined in `firestore.rules`

### Common Tasks

**Run tests**
```bash
flutter test
```

**Check for issues**
```bash
flutter analyze
```

**Format code**
```bash
dart format .
```

**Clean build**
```bash
flutter clean
flutter pub get
```

## Troubleshooting

### Common Issues

1. **"Building with plugins requires symlink support"**
   - Enable Developer Mode in Windows Settings
   - Or use WSL (Windows Subsystem for Linux)

2. **Firestore permission errors**
   - Deploy `firestore.rules` to Firebase Console
   - Ensure rules allow authenticated users to read games

3. **Games list stuck loading**
   - Check console logs for Firestore connection issues
   - Verify Firestore security rules are deployed
   - Check network connection

4. **Hot reload not working**
   - Try hot restart (`R`) instead
   - Or stop and restart the app

## License

This project is part of a course assignment. All rights reserved.


---

**Last Updated**: Fall 2025
